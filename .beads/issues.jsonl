{"id":"nce-opencode","title":"OPENCODE: Epic for OpenCode theme integration features","description":"Add OpenCode theme synchronization commands to nvim-color-extractor, enabling automatic theme management between Neovim's project-color-nvim plugin and OpenCode TUI. This epic includes commands to set OpenCode themes directly, sync from nvim projectconfig, and auto-export missing themes from nvim colorschemes.\n\nSee /home/rektide/src/nvim-color-extractor/doc/plan/theme-sync.md for full plan.","status":"open","priority":2,"issue_type":"epic","owner":"rektide+git@voodoowarez.com","created_at":"2026-01-21T21:28:58.708229118-05:00","created_by":"rektide de la faye","updated_at":"2026-01-21T21:28:58.708229118-05:00"}
{"id":"nce-opencode-projectconfig","title":"OPENCODE-PROJECTCONFIG: Command to sync theme from projectconfig","description":"Create a new CLI command `nvim-color-extractor opencode:projectconfig` that reads nvim-projectconfig theme preference and sets it in OpenCode, auto-exporting the theme from nvim if it doesn't exist in OpenCode.\n\n**Components:**\n- Create `src/commands/opencode/projectconfig.ts` following oclif patterns\n- Derive project name from CWD using `path.basename(path.dirname(cwd))` (same as nvim-projectconfig)\n- Read `~/.config/nvim/projects/\u003cproject-name\u003e.json`\n- Extract `color-persist` key value\n- Check if theme exists in OpenCode theme directories\n- If missing: call `OPENCODE-PROJECTCONFIG-AUTO` to export from nvim\n- Call `OPENCODE-SET` to update OpenCode config\n\n**API:**\n```bash\nnvim-color-extractor opencode:projectconfig\n```\n\n**Key Considerations:**\n- Handle missing projectconfig file gracefully (inform user, maybe suggest opencode:set)\n- Handle missing `color-persist` key gracefully\n- Use `OPENCODE-SET` command internally for config updates\n- Reuse existing `OpenCodeExport.convertToOpenCodeTheme()` for exports\n- Support `--export-path` flag for custom theme destination\n\n**Dependencies:**\n- Depends on `nce-opencode-projectconfig-auto` for theme export detection\n- Depends on `nce-opencode-set` for config updates","status":"open","priority":2,"issue_type":"feature","owner":"rektide+git@voodoowarez.com","created_at":"2026-01-21T21:29:37.357982599-05:00","created_by":"rektide de la faye","updated_at":"2026-01-21T21:29:37.357982599-05:00","dependencies":[{"issue_id":"nce-opencode-projectconfig","depends_on_id":"nce-opencode","type":"parent-child","created_at":"2026-01-22T06:45:28.341326527-05:00","created_by":"rektide de la faye"}]}
{"id":"nce-opencode-projectconfig-auto","title":"OPENCODE-PROJECTCONFIG-AUTO: Feature to auto-export missing themes from nvim","description":"Implement feature to automatically export missing themes from nvim before setting them in OpenCode.\n\n**Components:**\n- Extend `src/utils/opencode-theme.ts` with theme existence checking\n- Add export logic that integrates with existing `opencode:export`\n- Implement smart fallback: check built-in themes, user themes, project themes\n- Auto-export nvim colorscheme to `~/.config/opencode/themes/\u003ctheme-name\u003e.json` if missing\n- Add error handling: cleanup partial exports on failure\n\n**Data Flow:**\n1. Given theme name, search OpenCode theme directories:\n   - Built-in theme list (tokyonight, gruvbox, catppuccin, etc.)\n   - `~/.config/opencode/themes/*.json`\n   - `.opencode/themes/*.json`\n2. If found, proceed with theme set\n3. If not found:\n   - Call `OpenCodeExport.convertToOpenCodeTheme()` with nvim colorscheme\n   - Write to `~/.config/opencode/themes/\u003ctheme-name\u003e.json`\n   - Proceed with theme set\n\n**Error Handling:**\n- If nvim colorscheme doesn't exist: error with available list\n- If export fails: preserve partial state, clean up on error\n- Log exported theme path for debugging\n\n**Key Considerations:**\n- Reuse existing `src/commands/opencode/export.ts` logic\n- Handle theme name conflicts (built-in vs custom)\n- Support `--force-export` flag to re-export existing themes\n- Use XDG-compliant theme paths\n\n**Dependencies:**\n- Depends on `nce-opencode` (parent epic)","status":"open","priority":2,"issue_type":"feature","owner":"rektide+git@voodoowarez.com","created_at":"2026-01-21T21:30:45.45702803-05:00","created_by":"rektide de la faye","updated_at":"2026-01-21T21:30:45.45702803-05:00","dependencies":[{"issue_id":"nce-opencode-projectconfig-auto","depends_on_id":"nce-opencode","type":"parent-child","created_at":"2026-01-22T06:45:28.734316446-05:00","created_by":"rektide de la faye"}]}
{"id":"nce-opencode-set","title":"OPENCODE-SET: Command to directly set OpenCode theme in config","description":"Create a new CLI command `nvim-color-extractor opencode:set \u003ctheme-name\u003e` that allows users to directly set OpenCode theme in their configuration.\n\n**Components:**\n- Create `src/commands/opencode/set.ts` following oclif patterns from existing commands\n- Validate theme name exists (check built-in themes + custom theme paths)\n- Update `~/.config/opencode/opencode.json` or project-local `.opencode/opencode.json` with `{ \"theme\": \"\u003ctheme-name\u003e\" }`\n- Merge with existing config to preserve other settings\n- Support `--project` flag to use project-local config instead of global\n\n**API:**\n```bash\nnvim-color-extractor opencode:set tokyonight\nnvim-color-extractor opencode:set tokyonight --project\n```\n\n**Key Considerations:**\n- Use XDG config directories: `XDG_CONFIG_HOME/.config/opencode/opencode.json`\n- Merge config instead of overwriting: preserve other OpenCode settings\n- Prefer project config if `--project` flag is used\n- Clear error messages when theme doesn't exist (suggest available themes)","status":"open","priority":2,"issue_type":"feature","owner":"rektide+git@voodoowarez.com","created_at":"2026-01-21T21:29:22.717674485-05:00","created_by":"rektide de la faye","updated_at":"2026-01-21T21:29:22.717674485-05:00","dependencies":[{"issue_id":"nce-opencode-set","depends_on_id":"nce-opencode","type":"parent-child","created_at":"2026-01-22T06:45:27.982444614-05:00","created_by":"rektide de la faye"}]}
